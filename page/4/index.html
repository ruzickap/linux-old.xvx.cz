<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
<head profile="http://gmpg.org/xfn/11">
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />

	<title>linux.xvx.cz - Petrâ€™s blog about Linux - Part 4</title>
	<link rel="alternate" type="application/rss+xml" title="RSS 2.0 - all posts" href="../../feed/index.html" />
	<link rel="alternate" type="application/rss+xml" title="RSS 2.0 - all comments" href="../../comments/feed/index.html" />
	<link rel="pingback" href="../../xmlrpc.php" />

	<!-- style START -->
	<link rel="stylesheet" href="../../wp-content/themes/elegant-box/style.css" type="text/css" media="screen" />
		<!--[if IE]>
		<link rel="stylesheet" href="http://linux.xvx.cz/wp-content/themes/elegant-box/ie.css" type="text/css" media="screen" />
	<![endif]-->

	<!-- default style -->
			<link rel="stylesheet" href="../../wp-content/themes/elegant-box/styles/blue/default.css" type="text/css" media="screen" title="blue" />
		<link rel="stylesheet" href="../../wp-content/themes/elegant-box/styles/blue/global.css" type="text/css" media="screen" />
	
	<!-- others styles -->
	<!-- style END -->

	<!-- javascript START -->
		<script type="text/javascript" src="../../wp-content/themes/elegant-box/js/base.js"></script>
	<script type="text/javascript" src="../../wp-content/themes/elegant-box/js/menu.js"></script>
	<!-- javascript END -->

		
			<script type="text/javascript">//<![CDATA[
			// Google Analytics for WordPress by Yoast v4.2.5 | http://yoast.com/wordpress/google-analytics/
			var _gaq = _gaq || [];
			_gaq.push(['_setAccount', 'UA-6594742-3']);
							_gaq.push(['_trackPageview']);
			(function () {
				var ga = document.createElement('script');
				ga.type = 'text/javascript';
				ga.async = true;
				ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
				var s = document.getElementsByTagName('script')[0];
				s.parentNode.insertBefore(ga, s);
			})();
			//]]></script>
			<link rel='stylesheet' id='gdsr_style_main-css'  href='../../wp-content/plugins/gd-star-rating/css/gdsr.css1fcd.css?t=1347955026&amp;#038;s=a10i10m20k20c05r05%23121620243046%23121620243240%23s1pchristmas%23s1pcrystal%23s1pdarkness%23s1poxygen%23s1goxygen_gif%23s1pplain%23s1ppumpkin%23s1psoft%23s1pstarrating%23s1pstarscape%23t1pclassical%23t1pstarrating%23t1gstarrating_gif%23lsgflower%23lsgarrows&amp;#038;o=off&amp;#038;ver=1.9.20' type='text/css' media='all' />
<link rel='stylesheet' id='NextGEN-css'  href='../../wp-content/plugins/nextgen-gallery/css/nggallery8a54.css?ver=1.0.0' type='text/css' media='screen' />
<link rel='stylesheet' id='shutter-css'  href='../../wp-content/plugins/nextgen-gallery/shutter/shutter-reloadedc412.css?ver=1.3.4' type='text/css' media='screen' />
<link rel='stylesheet' id='wp-polls-css'  href='../../wp-content/themes/elegant-box/polls-css4d49.css?ver=2.63' type='text/css' media='all' />
<link rel='stylesheet' id='codecolorer-css'  href='../../wp-content/plugins/codecolorer/codecolorere2dc.css?ver=0.9.9' type='text/css' media='screen' />
<link rel='stylesheet' id='wp_dlmp_styles-css'  href='../../wp-content/plugins/download-monitor/page-addon/styles9d52.css?ver=3.5.1' type='text/css' media='all' />
<script type='text/javascript' src='../../wp-includes/js/jquery/jquery4511.js?ver=1.8.3'></script>
<script type='text/javascript' src='../../wp-content/plugins/gd-star-rating/js/gdsr806d.js?ver=1.9.20'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var shutterSettings = {"msgLoading":"L O A D I N G","msgClose":"Click to Close","imageCount":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/nextgen-gallery/shutter/shutter-reloaded3ba1.js?ver=1.3.3'></script>
<script type='text/javascript' src='../../wp-content/plugins/nextgen-gallery/js/jquery.cycle.all.min62a7.js?ver=2.9995'></script>
<script type='text/javascript' src='../../wp-content/plugins/nextgen-gallery/js/ngg.slideshow.min18b5.js?ver=1.06'></script>
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="../../wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 3.5.1" />
<link rel='shortlink' href='http://wp.me/qpDz' />

<!-- All in One SEO Pack 1.6.15 by Michael Torbert of Semper Fi Web Design[343,379] -->
<link rel="canonical" href="index.html" />
<!-- /all in one seo pack -->
	<style type='text/css'>
	.download-info .download-button {
		background-image: url(../../wp-content/plugins/download-monitor/page-addon/downloadbutton.gif);
	}
	.download-info .more-button {
		background-image: url(../../wp-content/plugins/download-monitor/page-addon/morebutton.gif);
	}
	</style>
<link rel="shortcut icon" href="http://www.xvx.cz/favicon.ico" /><script type="text/javascript">
//<![CDATA[
var gdsr_cnst_nonce = "8c507526e1";
var gdsr_cnst_ajax = "../../wp-content/plugins/gd-star-rating/ajax.html";
var gdsr_cnst_button = 1;
var gdsr_cnst_cache = 0;
// ]]>
</script>
<!--[if IE]><style type="text/css">.ratemulti .starsbar .gdcurrent { -ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=70)"; filter: alpha(opacity=70); }</style><![endif]-->
<!-- <meta name="NextGEN" version="1.9.6" /> -->
<style type="text/css">
.wp-polls .pollbar {
	margin: 1px;
	font-size: 6px;
	line-height: 8px;
	height: 8px;
	background-image: url('../../wp-content/plugins/wp-polls/images/default/pollbg.gif');
	border: 1px solid #c8c8c8;
}
</style>

<!-- Protected by WP-SpamFree v2.1.1.2 :: JS BEGIN -->
<script type="text/javascript" src="../../wp-content/plugins/wp-spamfree/js/wpsf-js.js"></script> 
<!-- Protected by WP-SpamFree v2.1.1.2 :: JS END -->

<link id='MediaRSS' rel='alternate' type='application/rss+xml' title='NextGEN Gallery RSS Feed' href='../../wp-content/plugins/nextgen-gallery/xml/media-rss.php' />
<script type="text/javascript">
//<![CDATA[
	var screen_res = ""; 
	function writeCookie(name,value,hours) {
		var the_cookie = name+"="+escape(value)+"; expires=";
		var expires = "";
		hours=hours+0; //convert to number
		if (hours > 0) { //0==expires on browser close
			var cdate = new Date();
			cdate.setTime(cdate.getTime()+(hours*60*60*1000));
			expires = expires+cdate.toGMTString();
		} 
		document.cookie = the_cookie+expires+"; path=/; domain=";
	}
	screen_res = screen.width+" x "+screen.height;
	if (screen_res==" x ") screen_res = window.screen.width+" x "+window.screen.height;
	if (screen_res==" x ") screen_res = screen.availWidth+" x "+screen.availHeight;
	if (screen_res!=" x ") { 
		writeCookie("wassup_screen_res",screen_res,"48"); //keep 2 days
	} else {
		screen_res = "";
	}
//]]>
</script>
</head>


<body>
	<!-- header START -->
	<div id="header">
		<div class="inner">
			<div class="content">
				<div class="caption">
					<h1 id="title"><a href="../../index.html" title="My personal blog about Linux and other opensource applications.">Petr&#8217;s blog about Linux</a></h1>
					<div id="tagline">My personal blog about Linux and other opensource applications.</div>
				</div>

				<!-- search box -->
									<form action="http://linux.xvx.cz/" id="search_box" method="get">
						<div id="searchbox">
							<input type="text" id="searchtxt" class="textfield" name="s" value="" />
						</div>
					</form>
				<script type="text/javascript">
//<![CDATA[
	var searchbox = document.getElementById("searchbox");
	var searchtxt = document.getElementById("searchtxt");
	var tiptext = "Type text to search here...";
	if(searchtxt.value == "" || searchtxt.value == tiptext) {
		searchtxt.className += " searchtip";
		searchtxt.value = tiptext;
	}
	searchtxt.onfocus = function(e) {
		if(searchtxt.value == tiptext) {
			searchtxt.value = "";
			searchtxt.className = searchtxt.className.replace(" searchtip", "");
		}
	}
	searchtxt.onblur = function(e) {
		if(searchtxt.value == "") {
			searchtxt.className += " searchtip";
			searchtxt.value = tiptext;
		}
	}
//]]>
</script>

				<!-- navigation START -->
				<ul id="navigation">

					<li class="current_page_item"><a href="../../index.html">Home</a></li>
					<li class="page_item page-item-2"><a href="../../about/index.html">About</a></li>
					<li id="subscribe">
						<a rel="external nofollow" title="Subscribe to this blog..." id="feed" href="../../feed/index.html"><img src="../../wp-content/themes/elegant-box/images/transparent.gif" alt="RSS feed" /></a>
													<ul>
								<li class="first"><a rel="external nofollow" title="Subscribe with Youdao" href="http://reader.youdao.com/b.do?url=http://linux.xvx.cz/feed/"> Youdao</a></li>
								<li><a rel="external nofollow" title="Subscribe with Xian Guo" href="http://www.xianguo.com/subscribe.php?url=http://linux.xvx.cz/feed/"> Xian Guo</a></li>
								<li><a rel="external nofollow" title="Subscribe with Zhua Xia" href="http://www.zhuaxia.com/add_channel.php?url=http://linux.xvx.cz/feed/"> Zhua Xia</a></li>
								<li><a rel="external nofollow" title="Subscribe with Google" href="http://fusion.google.com/add?feedurl=http://linux.xvx.cz/feed/"> Google</a></li>
								<li><a rel="external nofollow" title="Subscribe with My Yahoo!" href="http://add.my.yahoo.com/rss?url=http://linux.xvx.cz/feed/"> My Yahoo!</a></li>
								<li><a rel="external nofollow" title="Subscribe with newsgator" href="http://www.newsgator.com/ngs/subscriber/subfext.aspx?url=http://linux.xvx.cz/feed/"> newsgator</a></li>
								<li><a rel="external nofollow" title="Subscribe with Bloglines" href="http://www.bloglines.com/sub/http://linux.xvx.cz/feed/"> Bloglines</a></li>
								<li><a rel="external nofollow" title="Subscribe with iNezha" href="http://inezha.com/add?url=http://linux.xvx.cz/feed/"> iNezha</a></li>
							</ul>
											</li>

				</ul>
				<!-- navigation END -->

			</div>
		</div>
	</div>
	<!-- header END -->

	<div id="container">
		<div id="content">
			<div id="main">

		
		
				<div class="post">
					<div class="title">
						<h2><a href="../../2009/08/debian-with-grub2-and-serial-connection/index.html" rel="bookmark">Debian with GRUB2 and serial connection</a></h2>
						<div class="fixed"></div>
					</div>

					<div class="info">
						
						<span>August 5th, 2009</span>
																			<span> | Tags: <a href="../../tag/debian-grub2-serial-console/index.html" rel="tag">debian grub2 serial console</a></span>
						
						<div class="fixed"></div>
					</div>

					<div class="content">
						<p>Sometimes I&#8217;m using the serial connection to my server if anything goes wrong. It&#8217;s because I don&#8217;t have a monitor/TV attached to it.</p>
<p>I have little problems to set it up using Debian in GRUB2 after I upgraded to grub-pc</p>
<p>So here is a short way how to do it:</p>
<p>Edit file containing configuration in Debian: <strong><em>/etc/default/grub</em></strong></p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer"><span class="co0"># If you change this file, run 'update-grub' afterwards to update</span><br />
<span class="co0"># /boot/grub/grub.cfg.</span><br />
<br />
<span class="re2">GRUB_DEFAULT</span>=<span class="nu0">0</span><br />
<span class="re2">GRUB_TIMEOUT</span>=<span class="nu0">1</span><br />
<span class="re2">GRUB_DISTRIBUTOR</span>=<span class="sy0">`</span>lsb_release <span class="re5">-i</span> <span class="re5">-s</span> <span class="nu0">2</span><span class="sy0">&gt;</span> <span class="sy0">/</span>dev<span class="sy0">/</span>null <span class="sy0">||</span> <span class="kw3">echo</span> Debian<span class="sy0">`</span><br />
<span class="re2">GRUB_CMDLINE_LINUX_DEFAULT</span>=<span class="st0">&quot;console=tty0 console=ttyS0,9600n8&quot;</span><br />
<br />
<span class="co0"># Uncomment to disable graphical terminal (grub-pc only)</span><br />
<span class="re2">GRUB_TERMINAL</span>=serial<br />
<span class="re2">GRUB_SERIAL_COMMAND</span>=<span class="st0">&quot;serial --speed=9600 --unit=0 --word=8 --parity=no --stop=1&quot;</span><br />
<br />
<span class="co0"># The resolution used on graphical terminal</span><br />
<span class="co0"># note that you can use only modes which your graphic card supports via VBE</span><br />
<span class="co0"># you can see them in real GRUB with the command `vbeinfo'</span><br />
<span class="co0">#GRUB_GFXMODE=640x480</span><br />
<br />
<span class="co0"># Uncomment if you don't want GRUB to pass &quot;root=UUID=xxx&quot; parameter to Linux</span><br />
<span class="co0">#GRUB_DISABLE_LINUX_UUID=true</span></div></div>
<p>Don&#8217;t forget to run <em><strong>update-grub</strong></em> after change.</p>
<div style="display: none">VN:F [1.9.20_1166]</div><div class="ratingblock "><div class="ratingheader "></div><div class="ratingstars "><div id="article_rater_188" class="ratepost gdsr-crystal gdsr-size-20"><div class="starsbar gdsr-size-20"><div class="gdouter gdheight"><div id="gdr_vote_a188" style="width: 180px;" class="gdinner gdheight"></div><div id="gdr_stars_a188" class="gdsr_rating_as"><a id="gdsrX188X10X0XaXarticle_rater_188Xarticle_loader_188X10X20" title="10 / 10" class="s10" rel="nofollow"></a><a id="gdsrX188X9X0XaXarticle_rater_188Xarticle_loader_188X10X20" title="9 / 10" class="s9" rel="nofollow"></a><a id="gdsrX188X8X0XaXarticle_rater_188Xarticle_loader_188X10X20" title="8 / 10" class="s8" rel="nofollow"></a><a id="gdsrX188X7X0XaXarticle_rater_188Xarticle_loader_188X10X20" title="7 / 10" class="s7" rel="nofollow"></a><a id="gdsrX188X6X0XaXarticle_rater_188Xarticle_loader_188X10X20" title="6 / 10" class="s6" rel="nofollow"></a><a id="gdsrX188X5X0XaXarticle_rater_188Xarticle_loader_188X10X20" title="5 / 10" class="s5" rel="nofollow"></a><a id="gdsrX188X4X0XaXarticle_rater_188Xarticle_loader_188X10X20" title="4 / 10" class="s4" rel="nofollow"></a><a id="gdsrX188X3X0XaXarticle_rater_188Xarticle_loader_188X10X20" title="3 / 10" class="s3" rel="nofollow"></a><a id="gdsrX188X2X0XaXarticle_rater_188Xarticle_loader_188X10X20" title="2 / 10" class="s2" rel="nofollow"></a><a id="gdsrX188X1X0XaXarticle_rater_188Xarticle_loader_188X10X20" title="1 / 10" class="s1" rel="nofollow"></a></div></div></div></div><div id="article_loader_188" style="display: none; width: 200px " class="ratingloaderarticle"><div class="loader arrows " style="height: 20px"><div class="loaderinner">please wait...</div></div></div></div><div class="ratingtext "><div id="gdr_text_a188">Rating: 9.0/<strong>10</strong> (2 votes cast)</div></div></div>						<div class="fixed"></div>
					</div>

					<div class="comments">
						<a href="../../2009/08/debian-with-grub2-and-serial-connection/index.html#comments" title="Comment on Debian with GRUB2 and serial connection">6 comments</a>													(12,248 views)
											</div>
				</div>

		
				<div class="post">
					<div class="title">
						<h2><a href="../../2009/06/crypted-disks-with-remote-key-placed-on-http-server/index.html" rel="bookmark">Crypted disks with remote key placed on http server</a></h2>
						<div class="fixed"></div>
					</div>

					<div class="info">
						
						<span>June 7th, 2009</span>
																			<span> | Tags: <a href="../../tag/crypt/index.html" rel="tag">crypt</a>, <a href="../../tag/cryptsetup/index.html" rel="tag">cryptsetup</a>, <a href="../../tag/disks/index.html" rel="tag">disks</a>, <a href="../../tag/gpg/index.html" rel="tag">gpg</a>, <a href="../../tag/lvm/index.html" rel="tag">lvm</a>, <a href="../../tag/wget/index.html" rel="tag">wget</a></span>
						
						<div class="fixed"></div>
					</div>

					<div class="content">
						<p>This page contains few information how to create crypted disk using dm_crypt, lvm, gpg with remote key stored on http server.<br />
The advantage is to have key, used for unlocking crypted disk(s), somewhere on the server instead have it on USB. </p>
<p>* You can easily delete this key if your disks are stolen and nobody can access them any longer&#8230;<br />
* If you use USB stick to save key then you need to have it connected to the machine with the cyphered disks every reboot &#8211; usually it will be plugged all the time to the server which destroy all security.<br />
* Keys are downloaded automatically every reboot from remote HTTP server (if not your disks will remain locked)</p>
<p>All commands were tested on Debian and should be also applicable on other distributions.</p>
<p> <a href="../../2009/06/crypted-disks-with-remote-key-placed-on-http-server/index.html#more-14"  class="more-link">Read more&#8230;</a></p>
<div style="display: none">VN:F [1.9.20_1166]</div><div class="ratingblock "><div class="ratingheader "></div><div class="ratingstars "><div id="article_rater_14" class="ratepost gdsr-crystal gdsr-size-20"><div class="starsbar gdsr-size-20"><div class="gdouter gdheight"><div id="gdr_vote_a14" style="width: 200px;" class="gdinner gdheight"></div><div id="gdr_stars_a14" class="gdsr_rating_as"><a id="gdsrX14X10X0XaXarticle_rater_14Xarticle_loader_14X10X20" title="10 / 10" class="s10" rel="nofollow"></a><a id="gdsrX14X9X0XaXarticle_rater_14Xarticle_loader_14X10X20" title="9 / 10" class="s9" rel="nofollow"></a><a id="gdsrX14X8X0XaXarticle_rater_14Xarticle_loader_14X10X20" title="8 / 10" class="s8" rel="nofollow"></a><a id="gdsrX14X7X0XaXarticle_rater_14Xarticle_loader_14X10X20" title="7 / 10" class="s7" rel="nofollow"></a><a id="gdsrX14X6X0XaXarticle_rater_14Xarticle_loader_14X10X20" title="6 / 10" class="s6" rel="nofollow"></a><a id="gdsrX14X5X0XaXarticle_rater_14Xarticle_loader_14X10X20" title="5 / 10" class="s5" rel="nofollow"></a><a id="gdsrX14X4X0XaXarticle_rater_14Xarticle_loader_14X10X20" title="4 / 10" class="s4" rel="nofollow"></a><a id="gdsrX14X3X0XaXarticle_rater_14Xarticle_loader_14X10X20" title="3 / 10" class="s3" rel="nofollow"></a><a id="gdsrX14X2X0XaXarticle_rater_14Xarticle_loader_14X10X20" title="2 / 10" class="s2" rel="nofollow"></a><a id="gdsrX14X1X0XaXarticle_rater_14Xarticle_loader_14X10X20" title="1 / 10" class="s1" rel="nofollow"></a></div></div></div></div><div id="article_loader_14" style="display: none; width: 200px " class="ratingloaderarticle"><div class="loader arrows " style="height: 20px"><div class="loaderinner">please wait...</div></div></div></div><div class="ratingtext "><div id="gdr_text_a14">Rating: 10.0/<strong>10</strong> (2 votes cast)</div></div></div>						<div class="fixed"></div>
					</div>

					<div class="comments">
						<a href="../../2009/06/crypted-disks-with-remote-key-placed-on-http-server/index.html#respond" title="Comment on Crypted disks with remote key placed on http server">0 comments</a>													(949 views)
											</div>
				</div>

		
				<div class="post">
					<div class="title">
						<h2><a href="../../2009/06/cobbler-and-yum-in-rhel-46/index.html" rel="bookmark">Cobbler and yum in RHEL 4.6</a></h2>
						<div class="fixed"></div>
					</div>

					<div class="info">
						
						<span>June 6th, 2009</span>
																			<span> | Tags: <a href="../../tag/cobbler/index.html" rel="tag">cobbler</a>, <a href="../../tag/pxe/index.html" rel="tag">pxe</a>, <a href="../../tag/rhel-4/index.html" rel="tag">rhel 4</a>, <a href="../../tag/yum/index.html" rel="tag">yum</a></span>
						
						<div class="fixed"></div>
					</div>

					<div class="content">
						<p>Look at small how-to install <a href="https://fedorahosted.org/cobbler/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://fedorahosted.org']);">cobbler</a> with yum on <a href="http://www.redhat.com/rhel/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.redhat.com']);">RHEL 4.6</a> from scratch.</p>
<p>Install the most RHEL 4.6 or <a href="http://www.centos.org/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.centos.org']);">CentOS</a> 4.6 with default partitioning and custom installation (unselect all possible packages during installation procedure). Diable firewall and SELinux.</p>
<ul>
<li>Enable DVD repository by changing the line in /etc/yum.repos.d/CentOS-Media.repo </li>
<p></p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer"><span class="re2">enabled</span>=<span class="nu0">1</span></div></div>
<li>Install yum</li>
<p></p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer"><span class="kw2">mount</span> <span class="sy0">/</span>media<span class="sy0">/</span>cdrom</div></div>
<li>Download packages and install them:</li>
<p></p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer"><span class="kw2">mkdir</span> <span class="sy0">/</span>var<span class="sy0">/</span>tmp<span class="sy0">/</span>cobbler-<span class="nu0">4.6</span><br />
<span class="kw3">cd</span> <span class="sy0">/</span>var<span class="sy0">/</span>tmp<span class="sy0">/</span>cobbler-<span class="nu0">4.6</span></div></div>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer">rpm <span class="re5">-i</span> <br />
.<span class="sy0">/</span>python-elementtree-1.2.6-<span class="nu0">5</span>.el4.centos.x86_64.rpm \<br />
.<span class="sy0">/</span>python-urlgrabber-2.9.8-<span class="nu0">2</span>.noarch.rpm .<span class="sy0">/</span>sqlite-3.3.6-<span class="nu0">2</span>.x86_64.rpm \<br />
.<span class="sy0">/</span>python-sqlite-1.1.7-1.2.1.x86_64.rpm \<br />
.<span class="sy0">/</span>yum-metadata-parser-<span class="nu0">1.0</span>-<span class="nu0">8</span>.el4.centos.x86_64.rpm \<br />
.<span class="sy0">/</span>centos-yumconf-<span class="nu0">4</span>-<span class="nu0">4.5</span>.noarch.rpm \<br />
.<span class="sy0">/</span>yum-2.4.3-<span class="nu0">4</span>.el4.centos.noarch.rpm \<br />
.<span class="sy0">/</span>createrepo-0.4.4-<span class="nu0">2</span>.noarch.rpm</div></div>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer"><span class="kw2">yum clean</span> all<br />
<span class="kw2">mkdir</span> <span class="sy0">/</span>var<span class="sy0">/</span>tmp<span class="sy0">/</span>rhel4_repo<span class="sy0">/</span><br />
<span class="kw2">ln</span> <span class="re5">-s</span> <span class="sy0">/</span>media<span class="sy0">/</span>cdrom<span class="sy0">/</span>RedHat<span class="sy0">/</span>RPMS<span class="sy0">/</span> <span class="sy0">/</span>var<span class="sy0">/</span>tmp<span class="sy0">/</span>rhel4_repo<span class="sy0">/</span>RPMS <br />
createrepo <span class="sy0">/</span>var<span class="sy0">/</span>tmp<span class="sy0">/</span>rhel4_repo<span class="sy0">/</span><br />
<span class="kw2">cat</span> <span class="sy0">&gt;/</span>etc<span class="sy0">/</span>yum.repos.d<span class="sy0">/</span>RHEL-<span class="nu0">4.6</span>-Media.repo <span class="sy0">&lt;&lt;</span>+<br />
<span class="br0">&#91;</span>rhel4-media<span class="br0">&#93;</span><br />
<span class="re2">name</span>=RHEL4 - Media<br />
<span class="re2">baseurl</span>=file:<span class="sy0">///</span>var<span class="sy0">/</span>tmp<span class="sy0">/</span>rhel4_repo<span class="sy0">/</span><br />
<span class="re2">gpgcheck</span>=<span class="nu0">0</span><br />
<span class="re2">enabled</span>=<span class="nu0">1</span><br />
+<br />
<br />
createrepo <span class="sy0">/</span>var<span class="sy0">/</span>tmp<span class="sy0">/</span>cobbler-<span class="nu0">4.6</span><span class="sy0">/</span><br />
<span class="kw2">cat</span> <span class="sy0">&gt;&gt;/</span>etc<span class="sy0">/</span>yum.repos.d<span class="sy0">/</span>my.repo <span class="sy0">&lt;&lt;</span>+<br />
<span class="br0">&#91;</span>my-repo<span class="br0">&#93;</span><br />
<span class="re2">name</span>=My Repository<br />
<span class="re2">baseurl</span>=file:<span class="sy0">///</span>var<span class="sy0">/</span>tmp<span class="sy0">/</span>cobbler-<span class="nu0">4.6</span><span class="sy0">/</span><br />
<span class="re2">gpgcheck</span>=<span class="nu0">0</span><br />
<span class="re2">enabled</span>=<span class="nu0">1</span><br />
+</div></div>
<li>Install necessary software from DVD</li>
<p></p>
<p>[/cc]</p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer"><span class="kw2">mv</span> <span class="sy0">/</span>etc<span class="sy0">/</span>yum.repos.d<span class="sy0">/</span>CentOS-Base.repo <span class="sy0">/</span>etc<span class="sy0">/</span>yum.repos.d<span class="sy0">/</span>CentOS-Base.repo.orig<br />
<br />
<span class="kw2">yum</span> <span class="re5">-y</span> <span class="kw2">install</span> <span class="kw2">wget</span> mc<br />
<span class="kw2">yum</span> <span class="re5">-y</span> <span class="kw2">install</span> httpd tftp-server mod_python python-devel createrepo rsync mkisofs<br />
<span class="kw2">yum</span> <span class="re5">-y</span> <span class="kw2">install</span> perl-Digest-SHA1 perl-Digest-HMAC perl-Socket6 perl-Time-HiRes sysstat perl-libwww-perl<br />
<span class="kw2">yum</span> <span class="re5">-y</span> <span class="kw2">install</span> libart_lgpl freetype libpng<br />
<span class="kw2">yum</span> <span class="re5">-y</span> <span class="kw2">install</span> logrotate perl-DateManip<br />
<span class="kw2">yum</span> <span class="re5">-y</span> <span class="kw2">install</span> cman<br />
<span class="kw2">yum</span> <span class="re5">-y</span> <span class="kw2">install</span> dhcp <span class="kw3">bind</span><br />
<span class="kw2">yum</span> <span class="re5">-y</span> <span class="kw2">install</span> memtest86+<br />
<br />
<span class="kw2">yum</span> <span class="re5">-y</span> <span class="kw2">install</span> cobbler<br />
<span class="kw2">yum</span> <span class="re5">-y</span> <span class="kw2">install</span> munin munin-node php-ldap<br />
chkconfig munin-node on<br />
<span class="kw2">yum</span> <span class="re5">-y</span> <span class="kw2">install</span> yum-utils<br />
<span class="kw2">yum</span> <span class="re5">-y</span> <span class="kw2">install</span> syslinux</div></div>
<li>Disable firewall (just for sure):</li>
<p></p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer">chkconfig <span class="re5">--level</span> <span class="nu0">2345</span> iptables off<br />
service iptables stop</div></div>
<li>Change line in /etc/cobbler/settings to match the IP of the server:</li>
<p></p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer">default_password_crypted: <span class="st0">&quot;$1<span class="es2">$pH3</span>........0B2HB/&quot;</span><br />
default_name_servers: <span class="br0">&#91;</span>192.168.0.129<span class="br0">&#93;</span><br />
manage_dhcp: <span class="nu0">1</span><br />
manage_dns: <span class="nu0">1</span><br />
manage_forward_zones: <span class="br0">&#91;</span>my.domain.cz<span class="br0">&#93;</span><br />
manage_reverse_zones: <span class="br0">&#91;</span>192.168.0<span class="br0">&#93;</span><br />
next_server: 192.168.0.129<br />
pxe_just_once: <span class="nu0">1</span><br />
server: 192.168.0.129<br />
register_new_installs: <span class="nu0">0</span><br />
xmlrpc_rw_enable: <span class="nu0">1</span></div></div>
<li>Start cobbler and apache daemon:</li>
<p></p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer"><span class="sy0">/</span>etc<span class="sy0">/</span>init.d<span class="sy0">/</span>cobblerd start<br />
<span class="sy0">/</span>etc<span class="sy0">/</span>init.d<span class="sy0">/</span>httpd start<br />
chkconfig httpd on</div></div>
<li>Change &#8216;disable&#8217; to &#8216;no&#8217; in /etc/xinetd.d/tftp</li>
<p></p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer">disable &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; = <span class="kw2">yes</span></div></div>
<h2>Cobbler/DHCPd/bind configuration</h2>
<p></p>
<li>Change listening interface for dhcpd in /etc/sysconfig/dhcpd: </li>
<p></p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer"><span class="re2">DHCPDARGS</span>=eth0;</div></div>
<li>Modify file /etc/cobbler/dhcp.template according your needs:</li>
<p></p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer">subnet 192.168.0.0 netmask 255.255.255.0 <span class="br0">&#123;</span><br />
&nbsp; &nbsp; &nbsp;option routers &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; 10.226.23.1;<br />
&nbsp; &nbsp; &nbsp;option domain-name &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">&quot;my.domain.cz&quot;</span>;<br />
&nbsp; &nbsp; &nbsp;option domain-name-servers 192.168.0.129;<br />
&nbsp; &nbsp; &nbsp;option subnet-mask &nbsp; &nbsp; &nbsp; &nbsp; 255.255.255.0;<br />
&nbsp; &nbsp; &nbsp;range dynamic-bootp &nbsp; &nbsp; &nbsp; &nbsp;192.168.0.200 192.168.0.254;<br />
&nbsp; &nbsp; &nbsp;filename &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="st0">&quot;/pxelinux.0&quot;</span>;<br />
&nbsp; &nbsp; &nbsp;default-lease-time &nbsp; &nbsp; &nbsp; &nbsp; <span class="nu0">21600</span>;<br />
&nbsp; &nbsp; &nbsp;max-lease-time &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; <span class="nu0">43200</span>;<br />
&nbsp; &nbsp; &nbsp;next-server &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;<span class="re1">$next_server</span>;<br />
<span class="br0">&#125;</span></div></div>
<li>Modify /etc/cobbler/named.template like: </li>
<p></p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer">options <span class="br0">&#123;</span><br />
...<br />
<span class="co0"># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;listen-on port 53 { 127.0.0.1; };</span><br />
...<br />
<span class="co0"># &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;allow-query &nbsp; &nbsp; { localhost; };</span><br />
&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;forwarders <span class="br0">&#123;</span> 10.226.32.44; <span class="br0">&#125;</span>;<br />
...<br />
<span class="br0">&#125;</span>;</div></div>
<p></p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer">cobbler <span class="kw2">sync</span><br />
service xinetd restart<br />
chkconfig dhcpd on<br />
chkconfig named on</div></div>
<p>Now you should run</p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer">cobbler check</div></div>
<p>and see something like that:</p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer"><span class="br0">&#91;</span>root<span class="sy0">@</span>c2virtud tmp<span class="br0">&#93;</span><span class="co0"># cobbler check</span><br />
No setup problems found<br />
Manual review and editing of <span class="sy0">/</span>var<span class="sy0">/</span>lib<span class="sy0">/</span>cobbler<span class="sy0">/</span>settings is recommended to tailor cobbler to your particular configuration.</div></div>
<h2>Cobbler repository+ installation</h2>
<p></p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer">cobbler import <span class="re5">--name</span>=RHEL4.6-x86_64-AS <span class="re5">--mirror</span>=<span class="sy0">/</span>media<span class="sy0">/</span>cdrom<span class="sy0">/</span><br />
cobbler repo add <span class="re5">--mirror</span>=<span class="sy0">/</span>var<span class="sy0">/</span>tmp<span class="sy0">/</span>cobbler-<span class="nu0">4.6</span><span class="sy0">/</span> <span class="re5">--name</span>=my-repo<br />
cobbler reposync<br />
cobbler image add <span class="re5">--name</span>=Memtest86+-<span class="nu0">1.26</span> <span class="re5">--file</span>=<span class="sy0">/</span>tftpboot<span class="sy0">/</span>memtest86+-<span class="nu0">1.26</span> <span class="re5">--image-type</span>=direct<br />
cobbler profile copy <span class="re5">--name</span>=RHEL4.6-AS-x86_64 <span class="re5">--newname</span>=NGP_RHEL4.6-AS-x86_64<br />
cobbler profile copy <span class="re5">--name</span>=rescue-RHEL4.6-AS-x86_64 <span class="re5">--newname</span>=NGP_rescue-RHEL4.6-AS-x86_64<br />
cobbler profile edit <span class="re5">--name</span>=NGP_RHEL4.6-AS-x86_64 <span class="re5">--repos</span>=<span class="st0">&quot;my-repo&quot;</span><br />
cobbler profile edit <span class="re5">--name</span>=NGP_rescue-RHEL4.6-AS-x86_64 <span class="re5">--repos</span>=<span class="st0">&quot;my-repo&quot;</span><br />
cobbler <span class="kw2">sync</span></div></div>
<li>Edit /etc/yum.repos.d/RHEL-4.6-Media.repo and change one line like:</li>
<p></p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer"><span class="re2">baseurl</span>=file:<span class="sy0">///</span>var<span class="sy0">/</span>www<span class="sy0">/</span>cobbler<span class="sy0">/</span>ks_mirror<span class="sy0">/</span>RHEL4.6-x86_64-AS<span class="sy0">/</span>RedHat</div></div>
<li>Then run:</li>
<p></p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer"><span class="kw2">yum clean</span> all</div></div>
<h2>PXE configuration</h2>
<p></p>
<li>Make this the first line of /etc/cobbler/pxe/pxedefault.template,pxeprofile.template,pxesystem.template to enable serial connection:</li>
<p></p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer">SERIAL <span class="nu0">0</span> <span class="nu0">115200</span></div></div>
<h2>Cobbler WebUI</h2>
<li>Set root password for web access:</li>
<p></p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer">htdigest <span class="sy0">/</span>etc<span class="sy0">/</span>cobbler<span class="sy0">/</span>users.digest <span class="st0">&quot;Cobbler&quot;</span> root</div></div>
<li>Change line in /etc/cobbler/modules.conf:</li>
<p></p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer">module = authn_configfile</div></div>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer">service cobblerd restart<br />
service httpd restart</div></div>
<h2>Cobbler host specification</h2>
<p></p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer">cobbler system add <span class="re5">--comment</span>=<span class="st0">&quot;c3virt01ce01 machine&quot;</span> <span class="re5">--name</span>=c3virt01ce01 <span class="re5">--hostname</span>=c3virt01ce01 <span class="re5">--netboot-enabled</span>=<span class="nu0">1</span> <span class="re5">--profile</span>=NGP_RHEL4.6-AS-x86_64 <span class="re5">--name-servers</span>=192.168.0.129 <span class="re5">--static</span>=<span class="nu0">0</span> <span class="re5">--kickstart</span>=<span class="sy0">/</span>var<span class="sy0">/</span>lib<span class="sy0">/</span>cobbler<span class="sy0">/</span>kickstarts<span class="sy0">/</span>legacy.ks<br />
cobbler system edit <span class="re5">--name</span> c3virt01ce01 <span class="re5">--interface</span>=eth0 <span class="re5">--mac</span>=00:0c:<span class="nu0">29</span>:<span class="nu0">68</span>:<span class="nu0">78</span>:<span class="nu0">96</span> <span class="re5">--ip</span>=192.168.0.10 <span class="re5">--netmask</span>=255.255.255.0 &nbsp;<span class="re5">--static</span>=<span class="nu0">1</span> <span class="re5">--dns-name</span>=c3virt01ce01.my.domain.cz<br />
cobbler system edit <span class="re5">--name</span> c3virt01ce01 <span class="re5">--interface</span>=eth1 <span class="re5">--mac</span>=00:0c:<span class="nu0">29</span>:<span class="nu0">68</span>:<span class="nu0">78</span>:b4 <span class="re5">--ip</span>=192.168.1.10 <span class="re5">--netmask</span>=255.255.255.0 <span class="re5">--static</span>=<span class="nu0">1</span><br />
cobbler system edit <span class="re5">--name</span> c3virt01ce01 <span class="re5">--interface</span>=eth2 <span class="re5">--mac</span>=00:0c:<span class="nu0">29</span>:<span class="nu0">68</span>:<span class="nu0">78</span>:aa <span class="re5">--ip</span>=192.168.2.10 <span class="re5">--netmask</span>=255.255.255.0 <span class="re5">--static</span>=<span class="nu0">1</span><br />
cobbler system edit <span class="re5">--name</span> c3virt01ce01 <span class="re5">--interface</span>=eth3 <span class="re5">--mac</span>=00:0c:<span class="nu0">29</span>:<span class="nu0">68</span>:<span class="nu0">78</span>:be <span class="re5">--static</span>=<span class="nu0">0</span></div></div>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer">cobbler <span class="kw2">sync</span></div></div>
<p>Hope it will be possible to use PXE boot to install machines.</p>
</ul>
<div style="display: none">VN:F [1.9.20_1166]</div><div class="ratingblock "><div class="ratingheader "></div><div class="ratingstars "><div id="article_rater_101" class="ratepost gdsr-crystal gdsr-size-20"><div class="starsbar gdsr-size-20"><div class="gdouter gdheight"><div id="gdr_vote_a101" style="width: 0px;" class="gdinner gdheight"></div><div id="gdr_stars_a101" class="gdsr_rating_as"><a id="gdsrX101X10X0XaXarticle_rater_101Xarticle_loader_101X10X20" title="10 / 10" class="s10" rel="nofollow"></a><a id="gdsrX101X9X0XaXarticle_rater_101Xarticle_loader_101X10X20" title="9 / 10" class="s9" rel="nofollow"></a><a id="gdsrX101X8X0XaXarticle_rater_101Xarticle_loader_101X10X20" title="8 / 10" class="s8" rel="nofollow"></a><a id="gdsrX101X7X0XaXarticle_rater_101Xarticle_loader_101X10X20" title="7 / 10" class="s7" rel="nofollow"></a><a id="gdsrX101X6X0XaXarticle_rater_101Xarticle_loader_101X10X20" title="6 / 10" class="s6" rel="nofollow"></a><a id="gdsrX101X5X0XaXarticle_rater_101Xarticle_loader_101X10X20" title="5 / 10" class="s5" rel="nofollow"></a><a id="gdsrX101X4X0XaXarticle_rater_101Xarticle_loader_101X10X20" title="4 / 10" class="s4" rel="nofollow"></a><a id="gdsrX101X3X0XaXarticle_rater_101Xarticle_loader_101X10X20" title="3 / 10" class="s3" rel="nofollow"></a><a id="gdsrX101X2X0XaXarticle_rater_101Xarticle_loader_101X10X20" title="2 / 10" class="s2" rel="nofollow"></a><a id="gdsrX101X1X0XaXarticle_rater_101Xarticle_loader_101X10X20" title="1 / 10" class="s1" rel="nofollow"></a></div></div></div></div><div id="article_loader_101" style="display: none; width: 200px " class="ratingloaderarticle"><div class="loader arrows " style="height: 20px"><div class="loaderinner">please wait...</div></div></div></div><div class="ratingtext "><div id="gdr_text_a101">Rating: 0.0/<strong>10</strong> (0 votes cast)</div></div></div>						<div class="fixed"></div>
					</div>

					<div class="comments">
						<a href="../../2009/06/cobbler-and-yum-in-rhel-46/index.html#respond" title="Comment on Cobbler and yum in RHEL 4.6">0 comments</a>													(1,158 views)
											</div>
				</div>

		
				<div class="post">
					<div class="title">
						<h2><a href="../../2009/06/trim-margins-from-pdf-document/index.html" rel="bookmark">Trim margins from PDF document</a></h2>
						<div class="fixed"></div>
					</div>

					<div class="info">
						
						<span>June 2nd, 2009</span>
																			<span> | Tags: <a href="../../tag/document/index.html" rel="tag">document</a>, <a href="../../tag/margins/index.html" rel="tag">margins</a>, <a href="../../tag/pdf/index.html" rel="tag">pdf</a>, <a href="../../tag/script/index.html" rel="tag">script</a>, <a href="../../tag/trim/index.html" rel="tag">trim</a></span>
						
						<div class="fixed"></div>
					</div>

					<div class="content">
						<p>It&#8217;s happened to me one time, that I want to trim margins from PDF document. </p>
<p>It was a manual for Panasonic G1 camera: <a href="http://ftp.xvx.cz/pub/docs/my/panasonic_g1.pdf" onclick="javascript:_gaq.push(['_trackEvent','download','http://ftp.xvx.cz/pub/docs/my/panasonic_g1.pdf']);">http://ftp.xvx.cz/pub/docs/my/panasonic_g1.pdf</a></p>
<p>You can see huge margins there, because it was officially written for A5 paper and they create manual for A4. </p>
<p>See the picture:</p>
<p><img src="../../wp-uploads/dmc-g1.png" alt="One page from Czech Panasonic DMC-G1 manual" title="One page from Czech Panasonic DMC-G1 manual" class="alignnone size-medium wp-image-117" /></p>
<p>I used <a href="http://www.ctan.org/tex-archive/support/pdfcrop/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.ctan.org']);">pdfcrop</a> script from Heiko Oberdiek, which can easily trim margins.</p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer">pdfcrop.pl <span class="re5">--margins</span> <span class="nu0">10</span> panasonic_g1.pdf panasonic_g1-<span class="nu0">2</span>.pdf</div></div>
<p>Here is the result:</p>
<p><img src="../../wp-uploads/dmc-g1_2.png" alt="Trimmed page from Czech Panasonic DMC-G1 manual" title="Trimmed page from Czech Panasonic DMC-G1 manual" class="alignnone size-medium wp-image-117" /></p>
<p>I hope this can be useful for somebody who needs this&#8230;<br />
KDE pdf viewer Okular, has the function &#8220;Trim Margins&#8221;, which works very well, but you can not save the PDF&#8230;</p>
<div style="display: none">VN:F [1.9.20_1166]</div><div class="ratingblock "><div class="ratingheader "></div><div class="ratingstars "><div id="article_rater_139" class="ratepost gdsr-crystal gdsr-size-20"><div class="starsbar gdsr-size-20"><div class="gdouter gdheight"><div id="gdr_vote_a139" style="width: 200px;" class="gdinner gdheight"></div><div id="gdr_stars_a139" class="gdsr_rating_as"><a id="gdsrX139X10X0XaXarticle_rater_139Xarticle_loader_139X10X20" title="10 / 10" class="s10" rel="nofollow"></a><a id="gdsrX139X9X0XaXarticle_rater_139Xarticle_loader_139X10X20" title="9 / 10" class="s9" rel="nofollow"></a><a id="gdsrX139X8X0XaXarticle_rater_139Xarticle_loader_139X10X20" title="8 / 10" class="s8" rel="nofollow"></a><a id="gdsrX139X7X0XaXarticle_rater_139Xarticle_loader_139X10X20" title="7 / 10" class="s7" rel="nofollow"></a><a id="gdsrX139X6X0XaXarticle_rater_139Xarticle_loader_139X10X20" title="6 / 10" class="s6" rel="nofollow"></a><a id="gdsrX139X5X0XaXarticle_rater_139Xarticle_loader_139X10X20" title="5 / 10" class="s5" rel="nofollow"></a><a id="gdsrX139X4X0XaXarticle_rater_139Xarticle_loader_139X10X20" title="4 / 10" class="s4" rel="nofollow"></a><a id="gdsrX139X3X0XaXarticle_rater_139Xarticle_loader_139X10X20" title="3 / 10" class="s3" rel="nofollow"></a><a id="gdsrX139X2X0XaXarticle_rater_139Xarticle_loader_139X10X20" title="2 / 10" class="s2" rel="nofollow"></a><a id="gdsrX139X1X0XaXarticle_rater_139Xarticle_loader_139X10X20" title="1 / 10" class="s1" rel="nofollow"></a></div></div></div></div><div id="article_loader_139" style="display: none; width: 200px " class="ratingloaderarticle"><div class="loader arrows " style="height: 20px"><div class="loaderinner">please wait...</div></div></div></div><div class="ratingtext "><div id="gdr_text_a139">Rating: 10.0/<strong>10</strong> (6 votes cast)</div></div></div>						<div class="fixed"></div>
					</div>

					<div class="comments">
						<a href="../../2009/06/trim-margins-from-pdf-document/index.html#comments" title="Comment on Trim margins from PDF document">1 comment</a>													(2,997 views)
											</div>
				</div>

		
				<div class="post">
					<div class="title">
						<h2><a href="../../2009/03/digikam-thumbnails-and-albums-with-photos-stored-on-remote-shares/index.html" rel="bookmark">digiKam thumbnails and Albums with photos stored on remote shares</a></h2>
						<div class="fixed"></div>
					</div>

					<div class="info">
						
						<span>March 22nd, 2009</span>
																			<span> | Tags: <a href="../../tag/digikam/index.html" rel="tag">digiKam</a>, <a href="../../tag/kde/index.html" rel="tag">KDE</a>, <a href="../../tag/perl/index.html" rel="tag">perl</a>, <a href="../../tag/photo-collection/index.html" rel="tag">photo collection</a>, <a href="../../tag/script/index.html" rel="tag">script</a>, <a href="../../tag/sqlite/index.html" rel="tag">sqlite</a>, <a href="../../tag/thumbnails/index.html" rel="tag">thumbnails</a></span>
						
						<div class="fixed"></div>
					</div>

					<div class="content">
						<p>My photo collection is stored on the server and accessed by cifs protocol to my notebooks. I&#8217;m using <a href="http://www.digikam.org/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.digikam.org']);">digiKam</a> to browse my collection in KDE.</p>
<p>This software is storing all thumbnails in ~/.thumbnails/ according <a href="http://specifications.freedesktop.org/thumbnail-spec/thumbnail-spec-latest.html" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://specifications.freedesktop.org']);">http://specifications.freedesktop.org/thumbnail-spec/thumbnail-spec-latest.html</a> and create <a href="http://www.sqlite.org/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://www.sqlite.org']);">sqlite</a> database where it stores all information about photos.</p>
<ul>
<li>The advantage is, that these thumbnails can be also used by other KDE viewers (like <a href="http://gwenview.sourceforge.net/" onclick="javascript:_gaq.push(['_trackEvent','outbound-article','http://gwenview.sourceforge.net']);">Gwenview</a>).</li>
<li>The disadvantage can be that other viewers can generate new thumbnails which are no longer useful an the size of that directory can grow&#8230;</li>
</ul>
<p>I decided to write script which can delete all useless thumbnails and keep only the ones used by digiKam. The reason is simple &#8211; I don&#8217;t want remove all thumbnails and regenerate them again only from digiKam, because I have more than 35k photos so it take a long time&#8230; </p>
<p>Here is my digiKam collection configuration:</p>
<p><img src="../../wp-uploads/digikam-configure.png" alt="digiKam Configuration" title="digiKam Configuration" width="803" height="367" class="alignnone size-medium wp-image-117" /></p>
<p>This script deletes all thumbnails of the photos in</p>
<div class="codecolorer-container bash default" style="overflow:auto;white-space:nowrap;"><div class="bash codecolorer"><span class="co4">$</span>HOME<span class="sy0">/</span>.thumbnails<span class="sy0">/</span>large<span class="sy0">/</span></div></div>
<p>which are <strong>not</strong> on network shares :</p>
<p>(It preserves all the thumbnails of photos stored on network share, which take ages to create because of network or which are not changing, and delete all locally ones)</p>
<p><a href="http://websvn.xvx.cz/wsvn/projects/trunk/scripts/thumbnails_delete/thumbnails_delete.pl" >thumbnails_delete.pl</a></p>
<p>Maybe you can find it helpful&#8230;</p>
<div style="display: none">VN:F [1.9.20_1166]</div><div class="ratingblock "><div class="ratingheader "></div><div class="ratingstars "><div id="article_rater_116" class="ratepost gdsr-crystal gdsr-size-20"><div class="starsbar gdsr-size-20"><div class="gdouter gdheight"><div id="gdr_vote_a116" style="width: 0px;" class="gdinner gdheight"></div><div id="gdr_stars_a116" class="gdsr_rating_as"><a id="gdsrX116X10X0XaXarticle_rater_116Xarticle_loader_116X10X20" title="10 / 10" class="s10" rel="nofollow"></a><a id="gdsrX116X9X0XaXarticle_rater_116Xarticle_loader_116X10X20" title="9 / 10" class="s9" rel="nofollow"></a><a id="gdsrX116X8X0XaXarticle_rater_116Xarticle_loader_116X10X20" title="8 / 10" class="s8" rel="nofollow"></a><a id="gdsrX116X7X0XaXarticle_rater_116Xarticle_loader_116X10X20" title="7 / 10" class="s7" rel="nofollow"></a><a id="gdsrX116X6X0XaXarticle_rater_116Xarticle_loader_116X10X20" title="6 / 10" class="s6" rel="nofollow"></a><a id="gdsrX116X5X0XaXarticle_rater_116Xarticle_loader_116X10X20" title="5 / 10" class="s5" rel="nofollow"></a><a id="gdsrX116X4X0XaXarticle_rater_116Xarticle_loader_116X10X20" title="4 / 10" class="s4" rel="nofollow"></a><a id="gdsrX116X3X0XaXarticle_rater_116Xarticle_loader_116X10X20" title="3 / 10" class="s3" rel="nofollow"></a><a id="gdsrX116X2X0XaXarticle_rater_116Xarticle_loader_116X10X20" title="2 / 10" class="s2" rel="nofollow"></a><a id="gdsrX116X1X0XaXarticle_rater_116Xarticle_loader_116X10X20" title="1 / 10" class="s1" rel="nofollow"></a></div></div></div></div><div id="article_loader_116" style="display: none; width: 200px " class="ratingloaderarticle"><div class="loader arrows " style="height: 20px"><div class="loaderinner">please wait...</div></div></div></div><div class="ratingtext "><div id="gdr_text_a116">Rating: 0.0/<strong>10</strong> (0 votes cast)</div></div></div>						<div class="fixed"></div>
					</div>

					<div class="comments">
						<a href="../../2009/03/digikam-thumbnails-and-albums-with-photos-stored-on-remote-shares/index.html#respond" title="Comment on digiKam thumbnails and Albums with photos stored on remote shares">0 comments</a>													(530 views)
											</div>
				</div>

			</div>

	<!-- sidebar START -->
<div id="sidebar">

<!-- Style Switcher START -->
<!-- Style Switcher END -->

		<!-- showcase -->
		
		<ul id="widgets">

<li class="widget widget_archive"><h3>Archives</h3>		<ul>
			<li><a href='../../2013/06/index.html' title='June 2013'>June 2013</a>&nbsp;(1)</li>
	<li><a href='../../2012/01/index.html' title='January 2012'>January 2012</a>&nbsp;(1)</li>
	<li><a href='../../2011/12/index.html' title='December 2011'>December 2011</a>&nbsp;(1)</li>
	<li><a href='../../2011/02/index.html' title='February 2011'>February 2011</a>&nbsp;(1)</li>
	<li><a href='../../2011/01/index.html' title='January 2011'>January 2011</a>&nbsp;(1)</li>
	<li><a href='../../2010/12/index.html' title='December 2010'>December 2010</a>&nbsp;(1)</li>
	<li><a href='../../2010/09/index.html' title='September 2010'>September 2010</a>&nbsp;(1)</li>
	<li><a href='../../2010/05/index.html' title='May 2010'>May 2010</a>&nbsp;(1)</li>
	<li><a href='../../2010/04/index.html' title='April 2010'>April 2010</a>&nbsp;(1)</li>
	<li><a href='../../2010/03/index.html' title='March 2010'>March 2010</a>&nbsp;(5)</li>
	<li><a href='../../2009/12/index.html' title='December 2009'>December 2009</a>&nbsp;(1)</li>
	<li><a href='../../2009/08/index.html' title='August 2009'>August 2009</a>&nbsp;(1)</li>
	<li><a href='../../2009/06/index.html' title='June 2009'>June 2009</a>&nbsp;(3)</li>
	<li><a href='../../2009/03/index.html' title='March 2009'>March 2009</a>&nbsp;(3)</li>
	<li><a href='../../2009/02/index.html' title='February 2009'>February 2009</a>&nbsp;(1)</li>
		</ul>
</li><li class="widget widget_polls-widget"><h3>Polls</h3><div id="polls-2" class="wp-polls">
	<form id="polls_form_2" class="wp-polls-form" action="http://linux.xvx.cz/page/4/" method="post">
		<p style="display: none;"><input type="hidden" id="poll_2_nonce" name="wp-polls-nonce" value="8f91a5cf44" /></p>
		<p style="display: none;"><input type="hidden" name="poll_id" value="2" /></p>
		<p style="display: none;"><input type="hidden" id="poll_multiple_ans_2" name="poll_multiple_ans_2" value="3" /></p>
		<p style="text-align: center;"><strong>Favourite distro</strong></p><div id="polls-2-ans" class="wp-polls-ans"><ul class="wp-polls-ul">
		<li><input type="checkbox" id="poll-answer-6" name="poll_2" value="6" /> <label for="poll-answer-6">Debian, Ubuntu</label></li>
		<li><input type="checkbox" id="poll-answer-7" name="poll_2" value="7" /> <label for="poll-answer-7">RedHat, Fedora, CentOS</label></li>
		<li><input type="checkbox" id="poll-answer-8" name="poll_2" value="8" /> <label for="poll-answer-8">Gentoo, Sabayon</label></li>
		<li><input type="checkbox" id="poll-answer-9" name="poll_2" value="9" /> <label for="poll-answer-9">Arch</label></li>
		<li><input type="checkbox" id="poll-answer-10" name="poll_2" value="10" /> <label for="poll-answer-10">Slackware</label></li>
		<li><input type="checkbox" id="poll-answer-11" name="poll_2" value="11" /> <label for="poll-answer-11">openSUSE</label></li>
		<li><input type="checkbox" id="poll-answer-12" name="poll_2" value="12" /> <label for="poll-answer-12">Mandriva</label></li>
		</ul><p style="text-align: center;"><input type="button" name="vote" value="   Vote   " class="Buttons" onclick="poll_vote(2);" onkeypress="poll_result(2);" /></p><p style="text-align: center;"><a href="#ViewPollResults" onclick="poll_result(2); return false;" onkeypress="poll_result(2); return false;" title="View Results Of This Poll">View Results</a></p></div>
	</form>
</div>
<div id="polls-2-loading" class="wp-polls-loading"><img src="../../wp-content/plugins/wp-polls/images/loading.gif" width="16" height="16" alt="Loading ..." title="Loading ..." class="wp-polls-image" />&nbsp;Loading ...</div>
</li><li class="widget wassup_widget"><h3>Visitors Online</h3><ul class='links'><li><strong style='padding:0 4px 0 4px;background:#ddd;color:#777'>02</strong> visitor(s) online</li><li style='font-size:6pt; color:#bbb;'>powered by <a style='color:#777;' href='http://www.wpwp.org/' title='WassUp - Real Time Visitors Tracking'>WassUp</a></li></ul></li>		</ul>

		<!-- showcase 2 -->
		
</div>
<!-- sidebar END -->

	<div class="fixed"></div>

		<div id="bottom">
			<div class="postnav">

					<span class="alignleft"><a href="../3/index.html" >&laquo; Newer Entries</a></span>
				<span class="alignright"><a href="../5/index.html" >Older Entries &raquo;</a></span>
	
				<div class="fixed"></div>
			</div>

			<div class="anchor">
				<span><a href="#" onclick="MGJS.goTop();return false;">TOP</a></span>
			</div>
			<div class="fixed"></div>
			</div>
		<div class="fixed"></div>
	</div>
</div>

<!-- footer START -->
<div id="footer">
	<div class="inner">
		<div class="content">
			<p id="about">
				Copyright &copy; 2009-2013 Petr&#8217;s blog about Linux | Powered by <a href="http://wordpress.org/">WordPress</a> | Theme by <a href="http://www.neoease.com/">NeoEase</a>			</p>

			<ul id="admin">
								<li><a href="../../wp-login.html">Log in</a></li>
			</ul>

			<div class="fixed"></div>
		</div>
	</div>
</div><!-- footer END -->
<!--[if IE]>
<script language=javascript>
//<![CDATA[
	if (screen_res=="") {
		screen_res = screen.width + " x " + screen.height;
	}
	if (screen_res!=" x ") {
		var cdate = new Date();
		cdate.setTime(cdate.getTime()+(48*60*60*1000));
		var cexpires = cdate.toGMTString();
		//var the_cookie = "wassup_screen_res="+escape(screen_res)+"; expires="+cexpires;
		document.cookie = "wassup_screen_res=" + escape(screen_res)+ "; path=/; domain=" + document.domain;

	}
//]]>
</script>
<![endif]--><!--
<p class="small"> WassUp 1.8.3.1 timestamp: 2013-06-22 03:19:18PM UTC (04:19PM)<br />
If above timestamp is not current time, this page is cached.</p> -->
<script type='text/javascript' src='http://lite.piclens.com/current/piclens_optimized.js?ver=3.5.1'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var pollsL10n = {"ajax_url":"http:\/\/linux.xvx.cz\/wp-admin\/admin-ajax.php","text_wait":"Your last request is still being processed. Please wait a while ...","text_valid":"Please choose a valid poll answer.","text_multiple":"Maximum number of choices allowed: ","show_loading":"1","show_fading":"1"};
/* ]]> */
</script>
<script type='text/javascript' src='../../wp-content/plugins/wp-polls/polls-js4d49.js?ver=2.63'></script>
<!--stats_footer_test--><script src="http://stats.wordpress.com/e-201325.js" type="text/javascript"></script>
<script type="text/javascript">
st_go({blog:'6295081',v:'ext',post:'0'});
var load_cmc = function(){linktracker_init(6295081,0,2);};
if ( typeof addLoadEvent != 'undefined' ) addLoadEvent(load_cmc);
else load_cmc();
</script>

</body>
</html>
